# /etc/nginx/sites-available/requestpool.asungur.com
# Main file:
# server {
#         listen 80;
#         listen [::]:80;

#         root /var/www/html;
#         index index.html index.htm index.nginx-debian.html;
#         server_name _;

#         location / {
#                 try_files $uri $uri/ =404;
#         }
# }

server {
    root /var/www/requestpool.asungur.com/public;
    index index.html index.htm index.nginx-debian.html;

    server_name requestpool.asungur.com;

    location / {
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
    }
}

server {
    if ($host = www.requestpool.asungur.com) {
        return 301 https://$host$request_uri;
    }

    if ($host = requestpool.asungur.com) {
        return 301 https://$host$request_uri;
    }

    listen 80;
    listen [::]:80;

    server_name requestpool.asungur.com www.requestpool.asungur.com;
    return 404;
}
